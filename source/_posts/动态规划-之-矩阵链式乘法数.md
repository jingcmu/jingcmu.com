title: 动态规划 - 之 - 矩阵链式乘法数
date: 2014-09-17 19:43:10
categories: 编程
---

这个问题是动态规划的基础的问题，也是算法导论中讨论过的问题。在这里先简单描述一下。假定有一组矩阵需要做乘法操作。但是我们知道首先矩阵乘法满足了结合律。所以可以按照不同的顺序做乘法。而且不同顺序做乘法最后的乘法次数是不同的。比如〈A1, A2, A3〉分别是10 × 100, 100 × 5, 和 5 × 50。如果按照((A1 A2) A3)的顺序来计算,就是7500次，但是如果(A1 (A2 A3))这样的顺序，那结果就是75000次！！！这里有10倍的差距。所以这个题目的意思就是找到一个方案使得需要做乘法的次数最少。

现在我们尝试用大白话来继续一下。问题的解决方案侧重在两个方面。一个是最少乘法的次数，另一个就是最小乘法次数的流程。在代码中我们分别用m,s来表示。先说一下m的含义。m是个二维数组，m[i,j]表示从矩阵i到矩阵j的最小乘法次数。也就是A[i],A[i+1]....A[j]的最小乘法次数。可以发现，这个次数应该等于A[i],A[i+1]...A[k] * A[k+1]....A[j-1]A[j]的次数，这里的k是输入i到j这个开区间的某个数。找到这个数字，我们也就找到了最小乘法次数。

那怎么找到这个数字呢？简单的说就是把所有的可能性都列举出一遍k=i, i+1, i+2...j都尝试一遍。比较最小值就可以了。有了这个思路我们可以把递归公式写成:

递归公式
![](https://static.flickr.com/3869/15273951495_c1463fdaf4_o.png)

这里的p就是你的矩阵维数的数组。